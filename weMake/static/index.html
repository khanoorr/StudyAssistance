<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Learnship - AI Learning Assistant</title>
    <!-- Bootstrap 5 CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        /* Reset some default styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Custom CSS for dark theme with neon accents */
        :root {
            --neon-blue: #00f3ff;
            --neon-purple: #bd00ff;
            --dark-bg: #0a0a14;
            --darker-bg: #05050a;
            --card-bg: #121220;
            --text-light: #ffffff;
            --text-gray: #a0a0b0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-light);
            background: var(--dark-bg);
            min-height: 100vh;
            padding: 0;
            margin: 0;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Status bar for mobile app look */
        .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 16px;
            background: var(--darker-bg);
            color: var(--text-light);
            font-size: 0.9rem;
            font-weight: 600;
            height: 30px;
            border-bottom: 1px solid rgba(189, 0, 255, 0.2);
        }

        .status-bar-icons {
            display: flex;
            gap: 8px;
        }

        /* App header */
        .app-header {
            background: linear-gradient(135deg, var(--darker-bg) 0%, #1a1a2e 100%);
            color: var(--text-light);
            text-align: center;
            padding: 30px 20px;
            border-bottom: 1px solid rgba(0, 243, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .app-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0, 243, 255, 0.1) 0%, transparent 70%);
            z-index: 0;
        }

        .app-header-content {
            position: relative;
            z-index: 1;
        }

        .app-header h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
            font-weight: 700;
            letter-spacing: -0.5px;
            background: linear-gradient(90deg, var(--neon-blue), var(--neon-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .app-header p {
            font-size: 1rem;
            opacity: 0.9;
            font-weight: 300;
        }

        /* Status bar for mobile app look */
        .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 16px;
            background: #000;
            color: #fff;
            font-size: 0.9rem;
            font-weight: 600;
            height: 30px;
        }

        .status-bar-icons {
            display: flex;
            gap: 8px;
        }

        /* App header */
        .app-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            padding: 30px 20px;
            border-bottom: 1px solid #e0e0e0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .app-header h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .app-header p {
            font-size: 1rem;
            opacity: 0.9;
            font-weight: 300;
        }

        /* Main content */
        main {
            padding: 0;
            max-width: 100%;
            margin: 0;
        }

        /* Main content container */
        .content-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .input-section {
            background: var(--card-bg);
            padding: 30px;
            border: 1px solid rgba(189, 0, 255, 0.2);
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .output-section {
            background: var(--card-bg);
            padding: 30px;
            border: 1px solid rgba(189, 0, 255, 0.2);
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            min-height: 500px;
            margin-bottom: 70px; /* Space for bottom nav */
        }

        /* Form elements */
        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 12px;
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--text-light);
            text-shadow: 0 0 10px rgba(0, 243, 255, 0.3);
        }

        #topic {
            width: 100%;
            padding: 16px;
            border: 2px solid rgba(189, 0, 255, 0.3);
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background-color: var(--darker-bg);
            color: var(--text-light);
            font-family: inherit;
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.1);
        }

        #topic:focus {
            outline: none;
            border-color: var(--neon-blue);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.4);
            background-color: var(--darker-bg);
        }

        /* Radio group for content type selection */
        .radio-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .radio-group input[type="radio"] {
            display: none;
        }

        .radio-group label {
            font-weight: 500;
            cursor: pointer;
            padding: 12px;
            background-color: var(--darker-bg);
            border-radius: 8px;
            transition: all 0.3s ease;
            border: 1px solid rgba(189, 0, 255, 0.3);
            text-align: center;
            font-size: 0.9rem;
            color: var(--text-light);
            text-shadow: 0 0 8px rgba(0, 243, 255, 0.2);
        }

        .radio-group input[type="radio"]:checked + label {
            background-color: rgba(0, 243, 255, 0.1);
            border-color: var(--neon-blue);
            color: var(--neon-blue);
            font-weight: 600;
            transform: translateY(-2px);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.3);
        }

        /* Generate button */
        button {
            background: linear-gradient(135deg, var(--neon-purple) 0%, var(--neon-blue) 100%);
            color: white;
            border: none;
            padding: 18px 25px;
            font-size: 1.1rem;
            border-radius: 8px;
            cursor: pointer;
            display: block;
            width: 100%;
            transition: all 0.3s ease;
            font-weight: 600;
            letter-spacing: 0.5px;
            box-shadow: 0 0 20px rgba(189, 0, 255, 0.3);
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        button:hover {
            background: linear-gradient(135deg, var(--neon-blue) 0%, var(--neon-purple) 100%);
            transform: translateY(-2px);
            box-shadow: 0 0 25px rgba(189, 0, 255, 0.5);
        }

        button:active {
            transform: translateY(0);
        }

        button:disabled {
            background: #f5f5f5;
            cursor: not-allowed;
            color: #999;
        }

        /* Loading indicator */
        #loading {
            text-align: center;
            padding: 40px;
            font-size: 1.1rem;
            color: var(--neon-blue);
            text-shadow: 0 0 15px rgba(0, 243, 255, 0.5);
        }

        #loading::after {
            content: "";
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--neon-blue);
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s linear infinite;
            margin-left: 10px;
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.5);
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Content display area */
        .content-display {
            margin-top: 20px;
        }

        .hidden {
            display: none;
        }

        /* Summary Notes styling */
        .summary-notes h2 {
            color: var(--neon-blue);
            margin-bottom: 20px;
            font-size: 1.8rem;
            font-weight: 700;
            border-bottom: 2px solid var(--neon-blue);
            padding-bottom: 15px;
            text-shadow: 0 0 15px rgba(0, 243, 255, 0.5);
        }

        .summary-notes p {
            margin-bottom: 20px;
            font-size: 1rem;
            line-height: 1.7;
            color: var(--text-light);
            text-shadow: 0 0 10px rgba(0, 243, 255, 0.3);
        }

        /* Flashcards styling */
        .flashcards-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .flashcard {
            border: 1px solid rgba(189, 0, 255, 0.3);
            border-radius: 12px;
            padding: 25px;
            background: var(--card-bg);
            min-height: 150px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 0 15px rgba(189, 0, 255, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .flashcard:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1), 0 0 20px rgba(189, 0, 255, 0.4);
        }

        .flashcard h3 {
            color: var(--neon-blue);
            margin-bottom: 15px;
            font-size: 1.3rem;
            font-weight: 700;
            text-align: center;
            text-shadow: 0 0 15px rgba(0, 243, 255, 0.5);
        }

        .flashcard p {
            font-size: 1rem;
            line-height: 1.6;
            color: var(--text-light);
            text-align: center;
            text-shadow: 0 0 10px rgba(0, 243, 255, 0.3);
        }

        /* Quiz styling */
        .quiz-container {
            display: grid;
            gap: 25px;
        }

        .quiz-question {
            margin-bottom: 25px;
            padding: 25px;
            border: 1px solid rgba(189, 0, 255, 0.3);
            border-radius: 12px;
            background: var(--card-bg);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 0 15px rgba(189, 0, 255, 0.2);
        }

        .quiz-question h3 {
            color: var(--neon-blue);
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 700;
            text-shadow: 0 0 15px rgba(0, 243, 255, 0.5);
        }

        .quiz-question p {
            margin-bottom: 20px;
            font-size: 1rem;
            color: var(--text-light);
            line-height: 1.6;
            text-shadow: 0 0 10px rgba(0, 243, 255, 0.3);
        }

        .quiz-question ul {
            list-style-type: none;
        }

        .quiz-question li {
            padding: 16px;
            margin-bottom: 12px;
            background-color: var(--darker-bg);
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            border: 1px solid rgba(189, 0, 255, 0.3);
            color: var(--text-light);
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(189, 0, 255, 0.1);
        }

        .quiz-question li:hover {
            background-color: rgba(0, 243, 255, 0.1);
            border-color: var(--neon-blue);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.3);
        }

        .quiz-question li.correct {
            background-color: rgba(0, 243, 255, 0.2);
            color: var(--neon-blue);
            border-color: var(--neon-blue);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.4);
        }

        .quiz-question li.incorrect {
            background-color: rgba(255, 0, 0, 0.2);
            color: #ff3333;
            border-color: #ff3333;
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.4);
        }

        .quiz-question .correct-answer {
            color: var(--neon-blue);
            font-weight: 600;
            padding: 18px;
            border-radius: 8px;
            background-color: rgba(0, 243, 255, 0.1);
            border: 1px solid var(--neon-blue);
            font-size: 1rem;
            margin-top: 12px;
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.3);
        }

        .quiz-controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: center;
            margin-top: 30px;
        }

        .submit-quiz-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(102, 126, 234, 0.3);
        }

        .submit-quiz-btn:hover {
            background: #5a67d8;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(102, 126, 234, 0.4);
        }

        .submit-quiz-btn:disabled {
            background: #a0aec0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .quiz-score {
            background: #f8fafc;
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            border: 1px solid #e2e8f0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .quiz-score h3 {
            color: #2d3748;
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0;
        }

        /* Roadmap styling */
        .roadmap-container h2 {
            color: var(--neon-blue);
            margin-bottom: 20px;
            font-size: 1.8rem;
            font-weight: 700;
            border-bottom: 2px solid var(--neon-blue);
            padding-bottom: 15px;
            text-shadow: 0 0 15px rgba(0, 243, 255, 0.5);
        }

        .roadmap-content ul {
            list-style-type: none;
            margin-left: 0;
            margin-top: 25px;
        }

        .roadmap-content li {
            padding: 20px;
            margin-bottom: 20px;
            background: var(--card-bg);
            border-radius: 12px;
            border-left: 4px solid var(--neon-blue);
            font-size: 1rem;
            line-height: 1.6;
            color: var(--text-light);
            position: relative;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 0 15px rgba(0, 243, 255, 0.2);
        }

        .roadmap-content li:before {
            content: "→";
            margin-right: 15px;
            color: var(--neon-blue);
            font-weight: bold;
            font-size: 1.2rem;
            text-shadow: 0 0 10px rgba(0, 243, 255, 0.5);
        }

        /* Study Material styling */
        .study-material-container h2 {
            color: var(--neon-blue);
            margin-bottom: 20px;
            font-size: 1.8rem;
            font-weight: 700;
            border-bottom: 2px solid var(--neon-blue);
            padding-bottom: 15px;
            text-shadow: 0 0 15px rgba(0, 243, 255, 0.5);
        }

        .study-material-container h3 {
            color: var(--neon-blue);
            margin: 25px 0 20px 0;
            font-size: 1.4rem;
            font-weight: 600;
            text-shadow: 0 0 10px rgba(0, 243, 255, 0.3);
        }

        .study-material-content ul {
            list-style-type: disc;
            margin-left: 25px;
            margin-top: 20px;
        }

        .study-material-content li {
            padding: 12px 0;
            font-size: 1rem;
            line-height: 1.6;
            color: var(--text-light);
            text-shadow: 0 0 10px rgba(0, 243, 255, 0.3);
        }

        .study-material-content a {
            color: var(--neon-blue);
            text-decoration: none;
            font-weight: 600;
            text-shadow: 0 0 10px rgba(0, 243, 255, 0.3);
        }

        .study-material-content a:hover {
            text-decoration: underline;
            color: var(--neon-purple);
        }

        /* Table of Contents styling */
        .toc-container {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(189, 0, 255, 0.3);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 0 15px rgba(189, 0, 255, 0.2);
        }

        .toc-container h3 {
            color: var(--neon-blue);
            margin-bottom: 20px;
            font-size: 1.5rem;
            font-weight: 700;
            text-align: center;
            text-shadow: 0 0 15px rgba(0, 243, 255, 0.5);
        }

        .toc-list {
            list-style-type: none;
            margin-left: 0;
        }

        .toc-item {
            padding: 12px 0;
            border-bottom: 1px solid rgba(189, 0, 255, 0.2);
        }

        .toc-item:last-child {
            border-bottom: none;
        }

        .toc-h2 a {
            font-weight: 600;
            color: var(--text-light);
            text-decoration: none;
            font-size: 1.1rem;
            display: block;
            padding: 8px 0;
            text-shadow: 0 0 10px rgba(0, 243, 255, 0.3);
        }

        .toc-h3 a {
            font-weight: 500;
            color: var(--text-gray);
            text-decoration: none;
            font-size: 1rem;
            padding-left: 20px;
            display: block;
            padding: 6px 0;
            text-shadow: 0 0 8px rgba(0, 243, 255, 0.2);
        }

        .toc-item a:hover {
            color: var(--neon-blue);
            text-decoration: underline;
        }

        /* Content navigation bar */
        .content-nav {
            display: flex;
            justify-content: space-around;
            align-items: center;
            background: var(--card-bg);
            border: 1px solid rgba(189, 0, 255, 0.3);
            border-radius: 12px;
            padding: 8px;
            margin: 20px auto;
            max-width: 600px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05), 0 0 15px rgba(189, 0, 255, 0.2);
        }

        .content-nav .nav-item {
            flex: 1;
            text-align: center;
            padding: 12px 0;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            color: var(--text-gray);
            font-weight: 500;
            text-shadow: 0 0 8px rgba(0, 243, 255, 0.2);
        }

        .content-nav .nav-item:hover {
            background-color: rgba(0, 243, 255, 0.1);
            color: var(--neon-blue);
        }

        .content-nav .nav-item.active {
            background: linear-gradient(135deg, var(--neon-purple) 0%, var(--neon-blue) 100%);
            color: white;
            font-weight: 600;
            box-shadow: 0 0 15px rgba(189, 0, 255, 0.4);
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        /* Bottom navigation bar */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-around;
            align-items: center;
            background: var(--darker-bg);
            border-top: 1px solid rgba(189, 0, 255, 0.3);
            padding: 12px 0;
            height: 60px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05), 0 0 15px rgba(189, 0, 255, 0.2);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            padding: 8px 15px;
            border-radius: 12px;
            transition: all 0.3s ease;
            color: var(--text-gray);
        }

        .nav-item:hover {
            color: var(--neon-blue);
            background-color: rgba(0, 243, 255, 0.1);
        }

        .nav-item.active {
            background: linear-gradient(135deg, var(--neon-purple) 0%, var(--neon-blue) 100%);
            color: white;
            font-weight: 600;
            box-shadow: 0 0 15px rgba(189, 0, 255, 0.4);
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        .nav-icon {
            font-size: 1.2rem;
            margin-bottom: 4px;
        }

        .nav-label {
            font-size: 0.75rem;
            font-weight: 500;
        }

        /* Error styling */
        .error {
            color: #ff3333;
            background-color: rgba(255, 0, 0, 0.1);
            padding: 25px;
            border-radius: 12px;
            border: 1px solid #ff3333;
            font-weight: 600;
            margin: 25px 0;
            font-size: 1.1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 0 15px rgba(255, 0, 0, 0.3);
            text-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
        }

        /* Responsive design for larger screens */
        @media (min-width: 768px) {
            .status-bar {
                display: none;
            }
            
            .app-header {
                padding: 40px 20px;
                border-bottom-left-radius: 0;
                border-bottom-right-radius: 0;
            }
            
            .app-header h1 {
                font-size: 2.5rem;
            }
            
            .app-header p {
                font-size: 1.3rem;
            }
            
            .content-container {
                flex-direction: row;
                gap: 30px;
                padding: 30px;
            }
            
            .input-section {
                flex: 1;
                padding: 30px;
            }
            
            .output-section {
                flex: 2;
                padding: 30px;
                min-height: 700px;
                margin-bottom: 0;
            }
            
            .radio-group {
                grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            }
            
            .radio-group label {
                padding: 20px;
                font-size: 1.1rem;
            }
            
            button {
                padding: 20px 35px;
                font-size: 1.2rem;
            }
            
            .bottom-nav {
                display: none;
            }
            
            .flashcards-container {
                grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            }
            
            .summary-notes h2, .roadmap-container h2, .study-material-container h2 {
                font-size: 2.2rem;
                margin-bottom: 25px;
                padding-bottom: 20px;
                border-bottom: 3px solid #e2e8f0;
            }
            
            .quiz-question h3, .study-material-container h3 {
                font-size: 1.5rem;
                margin-bottom: 25px;
            }
            
            .quiz-question p, .summary-notes p {
                font-size: 1.2rem;
                line-height: 1.8;
                margin-bottom: 25px;
            }
            
            .quiz-question li, .flashcard p {
                font-size: 1.1rem;
            }
            
            .roadmap-content li, .study-material-content li {
                font-size: 1.2rem;
                line-height: 1.7;
                padding: 25px;
            }
        }

        @media (max-width: 767px) {
            .app-header h1 {
                font-size: 1.8rem;
            }
            
            .app-header p {
                font-size: 0.9rem;
            }
            
            .form-group label {
                font-size: 1rem;
            }
            
            #topic {
                padding: 15px;
                font-size: 1rem;
            }
            
            .radio-group label {
                padding: 15px;
                font-size: 0.9rem;
            }
            
            button {
                padding: 16px 20px;
                font-size: 1rem;
            }
            
            .flashcards-container {
                grid-template-columns: 1fr;
            }
            
            .summary-notes h2, .roadmap-container h2, .study-material-container h2 {
                font-size: 1.5rem;
            }
            
            .quiz-question h3, .study-material-container h3 {
                font-size: 1.2rem;
            }
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
</head>
<body>
    <!-- Status bar for mobile app look -->
    <div class="status-bar">
        <div class="status-bar-time" id="status-bar-time">9:02 AM</div>
        <div class="status-bar-icons">
            <span>📶</span>
            <span>🔋</span>
        </div>
    </div>
    
    <!-- App header -->
    <header class="app-header">
        <h1>Learnship</h1>
        <p>AI Learning Assistant</p>
    </header>
    
    <!-- Main content area -->
    <main class="main-content">
        <div class="content-container">
            <!-- Input section -->
            <div class="input-section">
                <form id="study-form">
                    <div class="form-group">
                        <label for="topic">Enter a topic to study:</label>
                        <input type="text" id="topic" name="topic" required placeholder="e.g., Mitochondria, Photosynthesis, World War II...">
                    </div>
                    
                    <div class="form-group">
                        <label>Choose output format:</label>
                        <div class="radio-group">
                            <input type="radio" id="summary" name="content_type" value="Summary Notes" required>
                            <label for="summary">Summary Notes</label>
                            
                            <input type="radio" id="flashcards" name="content_type" value="Flashcards">
                            <label for="flashcards">Flashcards</label>
                            
                            <input type="radio" id="quiz" name="content_type" value="Quiz">
                            <label for="quiz">Quiz</label>
                            
                            <input type="radio" id="roadmap" name="content_type" value="Roadmap">
                            <label for="roadmap">Roadmap</label>
                            
                            <input type="radio" id="study-material" name="content_type" value="Study Material">
                            <label for="study-material">Study Material & Videos</label>
                        </div>
                    </div>
                    
                    <button type="submit" id="generate-btn">Generate Study Materials</button>
                </form>
                
                <div id="loading" class="hidden">
                    <p>Generating your study materials...</p>
                </div>
            </div>
            
            <!-- Output section -->
            <div class="output-section">
                <div id="content-display" class="content-display hidden">
                    <!-- Generated content will appear here -->
                </div>
                <div id="docker-info" class="docker-info">
                    <h2>Cerebras Llama Docker Integration</h2>
                    <p>This application uses the Cerebras Llama API to generate learning materials. For local development and testing, you can also run the Cerebras Llama model using Docker.</p>
                    
                    <h3>Setting up Cerebras Llama with Docker</h3>
                    <ol>
                        <li>Install Docker on your system</li>
                        <li>Pull the Cerebras Llama Docker image:
                            <pre><code>docker pull cerebras/llama3.1-8b:latest</code></pre>
                        </li>
                        <li>Run the Docker container:
                            <pre><code>docker run -p 8080:8080 cerebras/llama3.1-8b:latest</code></pre>
                        </li>
                        <li>Update the API endpoint in the JavaScript code to point to your local Docker instance:
                            <pre><code>const API_URL = "http://localhost:8080/v1/chat/completions";</code></pre>
                        </li>
                    </ol>
                    
                    <h3>Benefits of Docker Integration</h3>
                    <ul>
                        <li>Faster response times for local development</li>
                        <li>No dependency on external API calls</li>
                        <li>Complete control over the model environment</li>
                        <li>Easy to scale and deploy</li>
                    </ul>
                    
                    <div class="alert alert-info" role="alert">
                        <h4><i class="bi bi-info-circle"></i> Note</h4>
                        <p>For production use, we recommend using the official Cerebras API as it provides better reliability and performance.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Content type navigation bar -->
    <nav class="content-nav hidden" id="content-nav">
        <div class="nav-item" data-content="summary-notes">
            <span class="nav-label">Summary Notes</span>
        </div>
        <div class="nav-item" data-content="flashcards">
            <span class="nav-label">Flashcards</span>
        </div>
        <div class="nav-item" data-content="quiz">
            <span class="nav-label">Quiz</span>
        </div>
        <div class="nav-item" data-content="roadmap">
            <span class="nav-label">Roadmap</span>
        </div>
        <div class="nav-item" data-content="study-material">
            <span class="nav-label">Study Material</span>
        </div>
    </nav>
    
    <!-- Bottom navigation bar -->
    <nav class="bottom-nav">
        <div class="nav-item active" data-tab="home">
            <span class="nav-icon">🏠</span>
            <span class="nav-label">Home</span>
        </div>
        <div class="nav-item" data-tab="favorites">
            <span class="nav-icon">⭐</span>
            <span class="nav-label">Favorites</span>
        </div>
        <div class="nav-item" data-tab="history">
            <span class="nav-icon">🕒</span>
            <span class="nav-label">History</span>
        </div>
        <div class="nav-item" data-tab="settings">
            <span class="nav-icon">⚙️</span>
            <span class="nav-label">Settings</span>
        </div>
    </nav>
    
    <script>
        document.addEventListener("DOMContentLoaded", function () {
          const form = document.getElementById("study-form");
          const generateBtn = document.getElementById("generate-btn");
          const loadingDiv = document.getElementById("loading");
          const contentDisplay = document.getElementById("content-display");
          
          // IMPORTANT: Replace with your actual Cerebras API token
          const API_TOKEN = "YOUR_API_TOKEN_HERE";
          const API_URL = "https://api.cerebras.ai/v1/chat/completions";

          // Initialize mermaid with better configuration for version 10.6.1
          mermaid.initialize({
            startOnLoad: false,
            theme: "default",
            securityLevel: "loose",
            fontFamily: "Arial, sans-serif",
            flowchart: {
              useMaxWidth: false,
              htmlLabels: true,
            },
            sequence: {
              useMaxWidth: false,
            },
          });

          // Store generated content for each type
          const generatedContent = {};
          
          form.addEventListener("submit", function (e) {
            e.preventDefault();

            // Get form values
            const topic = document.getElementById("topic").value;
            const contentType = document.querySelector(
              'input[name="content_type"]:checked'
            ).value;

            // Show loading, hide content
            loadingDiv.classList.remove("hidden");
            contentDisplay.classList.add("hidden");
            contentDisplay.innerHTML = "";
            generateBtn.disabled = true;

            // Create specific prompts based on content type
            let messages;
            if (contentType === "Summary Notes") {
                messages = [
                    {"role": "user", "content": `Create a concise, easy-to-understand summary about ${topic}. Include key points and important facts. Format the response in HTML with <h2> for the title and <p> for paragraphs.`}
                ];
            } else if (contentType === "Flashcards") {
                messages = [
                    {"role": "user", "content": `Generate a list of 5 key terms and their definitions related to ${topic}. Format the response as a JSON array with each object having 'term' and 'definition' keys. Do not include any markdown formatting in the response.`}
                ];
            } else if (contentType === "Quiz") {
                messages = [
                    {"role": "user", "content": `Create 3 multiple-choice questions about ${topic} with 4 answer choices each and indicate the correct answer. Format the response as a JSON array with each object having 'question', 'choices' (array), and 'correct_answer' keys. Do not include any markdown formatting in the response. Make sure the correct_answer is one of the choices in the choices array.`}
                ];
            } else if (contentType === "Roadmap") {
                messages = [
                    {"role": "user", "content": `Create a learning roadmap for ${topic} as an HTML formatted list with clear steps. Include main concepts, subtopics, and learning progression. Use <h2> for the title, <ul> for the main roadmap, and <li> for each step. Add brief descriptions for each step.`}
                ];
            } else if (contentType === "Study Material") {
                messages = [
                    {"role": "user", "content": `Provide study materials and YouTube video recommendations for learning ${topic}. Format the response in HTML with <h2> for the title, <h3> for sections like 'Study Materials' and 'Video Resources', <ul> for lists, and <li> for each item. Include links to relevant YouTube videos using proper HTML anchor tags.`}
                ];
            } else {
                contentDisplay.innerHTML = `<p class="error">Invalid content type</p>`;
                contentDisplay.classList.remove("hidden");
                loadingDiv.classList.add("hidden");
                generateBtn.disabled = false;
                return;
            }

            // Send request directly to Cerebras API
            fetch(API_URL, {
              method: "POST",
              headers: {
                "Authorization": `Bearer ${API_TOKEN}`,
                "Content-Type": "application/json"
              },
              body: JSON.stringify({
                "model": "llama3.1-8b",
                "messages": messages
              })
            })
              .then((response) => response.json())
              .then((data) => {
                if (data.error) {
                  throw new Error(data.error.message || JSON.stringify(data.error));
                }

                // Extract the generated content
                if (data.choices && data.choices.length > 0) {
                  const generatedContent = data.choices[0].message.content;
                  displayContent(generatedContent, contentType);
                } else {
                  throw new Error("No content generated");
                }
              })
              .catch((error) => {
                contentDisplay.innerHTML = `<p class="error">Error: ${error.message}</p>`;
                contentDisplay.classList.remove("hidden");
              })
              .finally(() => {
                // Hide loading, enable button
                loadingDiv.classList.add("hidden");
                generateBtn.disabled = false;
              });
          });

          function displayContent(content, contentType) {
            // Map content types to their display functions
            const displayFunctions = {
              "Summary Notes": displaySummaryNotes,
              "Flashcards": displayFlashcards,
              "Quiz": displayQuiz,
              "Roadmap": displayRoadmap,
              "Study Material": displayStudyMaterial
            };
            
            // Use the appropriate display function
            const displayFunction = displayFunctions[contentType] || displaySummaryNotes;
            displayFunction(content);

            contentDisplay.classList.remove("hidden");
            
            // Add table of contents for longer content
            if (contentType === "Summary Notes" || contentType === "Roadmap" || contentType === "Study Material") {
              addTableOfContents();
            }
            
            // Show content navigation bar
            const contentNav = document.getElementById("content-nav");
            if (contentNav) {
              contentNav.classList.remove("hidden");
              
              // Update active state in content navigation
              document.querySelectorAll('.content-nav .nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-content') === contentType.toLowerCase().replace(' ', '-')) {
                  item.classList.add('active');
                }
              });
            }
          }

          function displaySummaryNotes(content) {
            contentDisplay.innerHTML = `<div class="content-section summary-notes" id="summary-notes">${content}</div>`;
          }

          function displayFlashcards(content) {
            try {
              // Try to parse as JSON first
              const flashcards = JSON.parse(content);
              let html = '<div class="content-section flashcards-content" id="flashcards"><h2>Flashcards</h2><div class="flashcards-container">';

              flashcards.forEach((card) => {
                html += `
                            <div class="flashcard">
                                <h3>${card.term}</h3>
                                <p>${card.definition}</p>
                            </div>
                        `;
              });

              html += "</div></div>";
              contentDisplay.innerHTML = html;
            } catch (e) {
              // If JSON parsing fails, display as plain text
              contentDisplay.innerHTML = `
                        <div class="content-section flashcards-content" id="flashcards">
                        <h2>Flashcards</h2>
                        <div class="flashcards-container">
                            <div class="flashcard">
                                <p>${content}</p>
                            </div>
                        </div>
                        </div>
                    `;
            }
          }

          function displayQuiz(content) {
            try {
              // Try to parse as JSON first
              const quiz = JSON.parse(content);
              let html = '<div class="content-section quiz-content" id="quiz"><h2>Quiz</h2><div class="quiz-container">';

              quiz.forEach((q, index) => {
                html += `
                  <div class="quiz-question" data-question-index="${index}">
                    <h3>Question ${index + 1}</h3>
                    <p>${q.question}</p>
                    <ul>
                `;

                q.choices.forEach((choice, choiceIndex) => {
                  html += `<li data-question="${index}" data-choice="${choiceIndex}">${choice}</li>`;
                });

                html += `
                    </ul>
                    <p class="correct-answer hidden">Correct answer: ${q.correct_answer}</p>
                  </div>
                `;
              });

              // Add submit button and score display
              html += `
                <div class="quiz-controls">
                  <button id="submit-quiz" class="submit-quiz-btn">Submit Quiz</button>
                  <div id="quiz-score" class="quiz-score hidden"></div>
                </div>
              </div></div>`;
              contentDisplay.innerHTML = html;

              // Add event listeners for quiz choices
              document.querySelectorAll(".quiz-question li").forEach((item) => {
                item.addEventListener("click", function () {
                  // Check if quiz has already been submitted
                  const submitBtn = document.getElementById("submit-quiz");
                  if (submitBtn && submitBtn.disabled) {
                    return;
                  }
                  
                  const questionIndex = parseInt(this.getAttribute("data-question"));
                  const choiceIndex = parseInt(this.getAttribute("data-choice"));
                  
                  // Reset all choices for this question
                  document
                    .querySelectorAll(`.quiz-question[data-question-index="${questionIndex}"] li`)
                    .forEach((li) => {
                      li.classList.remove("correct", "incorrect");
                    });

                  // Check if selected answer is correct
                  if (quiz[questionIndex].choices[choiceIndex] === quiz[questionIndex].correct_answer) {
                    this.classList.add("correct");
                    // Hide correct answer text if it was shown
                    const correctAnswerElement = this.closest(".quiz-question").querySelector(".correct-answer");
                    correctAnswerElement.classList.add("hidden");
                  } else {
                    this.classList.add("incorrect");
                    // Show correct answer
                    const correctAnswerElement = this.closest(".quiz-question").querySelector(".correct-answer");
                    correctAnswerElement.classList.remove("hidden");
                  }
                });
              });

              // Add event listener for submit button
              const submitBtn = document.getElementById("submit-quiz");
              if (submitBtn) {
                submitBtn.addEventListener("click", function() {
                  // Calculate score
                  let correctCount = 0;
                  const totalQuestions = quiz.length;
                  
                  document.querySelectorAll(".quiz-question").forEach((questionDiv, index) => {
                    const selectedChoice = questionDiv.querySelector("li.correct, li.incorrect");
                    if (selectedChoice) {
                      const choiceIndex = parseInt(selectedChoice.getAttribute("data-choice"));
                      if (quiz[index].choices[choiceIndex] === quiz[index].correct_answer) {
                        correctCount++;
                      }
                    }
                  });
                  
                  // Display score
                  const scoreElement = document.getElementById("quiz-score");
                  if (scoreElement) {
                    scoreElement.innerHTML = `<h3>Your Score: ${correctCount}/${totalQuestions}</h3>`;
                    scoreElement.classList.remove("hidden");
                  }
                  
                  // Disable submit button and all choices
                  this.disabled = true;
                  this.textContent = "Quiz Submitted";
                  document.querySelectorAll(".quiz-question li").forEach((item) => {
                    item.style.cursor = "default";
                    item.style.pointerEvents = "none";
                  });
                });
              }
            } catch (e) {
              // If JSON parsing fails, display as plain text
              contentDisplay.innerHTML = `
                <div class="content-section quiz-content" id="quiz">
                  <h2>Quiz</h2>
                  <div class="quiz-container">
                    <div class="quiz-question">
                      <p>${content}</p>
                    </div>
                  </div>
                </div>
              `;
            }
          }

          function displayRoadmap(content) {
            contentDisplay.innerHTML = `
              <div class="content-section roadmap-content" id="roadmap">
              <div class="roadmap-container">
                <h2>Learning Roadmap</h2>
                <div class="roadmap-content">${content}</div>
              </div>
              </div>
            `;
          }

          function displayStudyMaterial(content) {
            contentDisplay.innerHTML = `
              <div class="content-section study-material-content" id="study-material">
              <div class="study-material-container">
                <h2>Study Materials & Videos</h2>
                <div class="study-material-content">${content}</div>
              </div>
              </div>
            `;
          }
          
          function addTableOfContents() {
            const contentDiv = document.querySelector('#content-display > div');
            if (!contentDiv) return;
            
            // Get all headings (h2 and h3)
            const headings = contentDiv.querySelectorAll('h2, h3');
            if (headings.length < 3) return; // Only add TOC if there are 3 or more headings
            
            // Create TOC container
            const tocContainer = document.createElement('div');
            tocContainer.className = 'toc-container';
            tocContainer.innerHTML = '<h3>Table of Contents</h3><ul class="toc-list"></ul>';
            
            const tocList = tocContainer.querySelector('.toc-list');
            
            // Add each heading to the TOC
            headings.forEach((heading, index) => {
              // Add an ID to the heading if it doesn't have one
              if (!heading.id) {
                heading.id = `heading-${index}`;
              }
              
              // Create TOC item
              const tocItem = document.createElement('li');
              tocItem.className = `toc-item toc-${heading.tagName.toLowerCase()}`;
              
              // Create link to the heading
              const tocLink = document.createElement('a');
              tocLink.href = `#${heading.id}`;
              tocLink.textContent = heading.textContent;
              tocLink.addEventListener('click', function(e) {
                e.preventDefault();
                const targetElement = document.getElementById(heading.id);
                if (targetElement) {
                  targetElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
              });
              
              tocItem.appendChild(tocLink);
              tocList.appendChild(tocItem);
            });
            
            // Insert TOC at the beginning of the content
            contentDiv.insertBefore(tocContainer, contentDiv.firstChild);
          }
          
          // Function to switch between different content types with smooth transitions
          function switchContent(contentType) {
            // Hide all content sections with fade out effect
            document.querySelectorAll('.content-section').forEach(section => {
              if (!section.classList.contains('hidden')) {
                section.style.opacity = '0';
                section.style.transition = 'opacity 0.3s ease';
                setTimeout(() => {
                  section.classList.add('hidden');
                }, 300);
              }
            });

            // Show the selected content section with fade in effect
            const selectedSection = document.getElementById(contentType);
            if (selectedSection) {
              selectedSection.classList.remove('hidden');
              setTimeout(() => {
                selectedSection.style.opacity = '1';
                selectedSection.style.transition = 'opacity 0.3s ease';
              }, 50);
            } else {
              // If the content section doesn't exist, check if we have stored content for this type
              const contentTypeMap = {
                "summary-notes": "Summary Notes",
                "flashcards": "Flashcards",
                "quiz": "Quiz",
                "roadmap": "Roadmap",
                "study-material": "Study Material"
              };
              
              const originalContentType = contentTypeMap[contentType];
              if (generatedContent[originalContentType]) {
                displayContent(generatedContent[originalContentType], originalContentType);
              }
            }

            // Update active state in navigation
            document.querySelectorAll('.content-nav .nav-item').forEach(item => {
              item.classList.remove('active');
            });
            const activeNavItem = document.querySelector(`.content-nav .nav-item[data-content="${contentType}"]`);
            if (activeNavItem) {
              activeNavItem.classList.add('active');
            }
          }
          
          // Add event listeners for content navigation items
          document.addEventListener('click', function(e) {
            // Check if clicked element is a content nav item
            if (e.target.closest('.content-nav .nav-item')) {
              const navItem = e.target.closest('.content-nav .nav-item');
              const contentType = navItem.getAttribute('data-content');
              switchContent(contentType);
            }
          });
          
          // Update status bar time
          function updateStatusBarTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            document.getElementById('status-bar-time').textContent = timeString;
          }
          
          // Update time immediately and then every minute
          updateStatusBarTime();
          setInterval(updateStatusBarTime, 60000);
          
          // Bottom navigation functionality
          document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
              // Remove active class from all items
              document.querySelectorAll('.nav-item').forEach(navItem => {
                navItem.classList.remove('active');
              });
              
              // Add active class to clicked item
              this.classList.add('active');
              
              // Handle tab switching (this would be expanded in a full app)
              const tab = this.getAttribute('data-tab');
              console.log(`Switched to ${tab} tab`);
            });
          });
        });
    </script>
</body>
</html>
